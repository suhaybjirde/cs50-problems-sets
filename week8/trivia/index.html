<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>
        <script>
            document.addEventListener('DOMContentLoaded', function (){

                const question1 = document.querySelector(".q1");
                const question2 = document.querySelector('.q2');
                const answers = document.querySelectorAll('.answer');
                const form = document.querySelector('.form')
                const input = document.querySelector('.response')
    
                console.log(answers)
    
                const correctAnswer1 = 'HTML';
                correctAnswer2 = 'world wide web'
    
                answers.forEach(answer => {
                    answer.addEventListener('click', handleClick)
                })

                form.addEventListener("submit", handleSubmit)

                function handleSubmit(event) {
                    event.preventDefault()
                    const res = input.value.toLowerCase()
                    if (res !== correctAnswer2) {
                        question2.setAttribute('data-check', 'incorrect')
                    }
                    if (res === correctAnswer2) {
                        question2.setAttribute('data-check', 'correct')
                    }
                }
                input.addEventListener('keydown', ()=> {
                    question2.removeAttribute('data-check')
                })
    
                function handleClick(event) {
                    answers.forEach(answer => answer.className = 'answer');
                    let text = event.target.innerText
                    let currentElement = event.target
                    if (text !== correctAnswer1) {
                        question1.setAttribute('data-check', 'incorrect')
                        currentElement.className = 'answer incorrect'
                    }
                    if (text === correctAnswer1) {
                        question1.setAttribute('data-check', 'correct')
                        event.target.className = 'answer correct'
                    }
                }
            })
        </script>
    </head>
    <body>
        <div class="header">
            <h1>Trivia!</h1>
        </div>

        <div class="container">
            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>
                <h3 class="question q1" data-check="Incorrect">what's The Best Programming Language?</h3>
                <ul class="list">
                    <li class="list-item">
                        <button class="answer">Javascript</button>
                    </li>
                    <li class="list-item">
                        <button class="answer">Python</button>
                    </li>
                    <li class="list-item">
                        <button class="answer">C</button>
                    </li>
                    <li class="list-item">
                        <button class="answer">HTML</button>
                    </li>
                </ul>
            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>
                <!-- TODO: Add free response question here -->
                <h3 class="question q2" data-check="Incorrect" data-correct="true">What's W.W.W stands For?</h3>
                <form class="form">
                    <input type="text" class="response">
                    <button>Check Answer</button>
                </form>
            </div>
        </div>
    </body>
</html>
